/*
ESTE SCRIPT SIRVE PARA GENERAR LOS DATOS DE CONFIGURACIÓN DE LA APLICACIÓN DE LICENCIAMIENTO
SE DEBE CAMBIAR EL VALOR DE @CL_CLIENTE POR EL NOMBRE QUE TENGA TANTO EN LA APLICACION DE LICENCIAMIENTO COMO EN DO O NOMINA
SI SE VAN A GENERAR LOS INSERT PARA NOMINA DEJAR @ES_NOMINA = 'S' PARA DO EL VALOR ES 'N'
EJECUTAR LOS INSERT QUE SE GENERAN EN MENSAJES EN LA APP DEL CLIENTE
*/
BEGIN
	DECLARE @CL_CLIENTE NVARCHAR(10) = 'DEV50',
	@CL_EMPRESA NVARCHAR(100) = 'GRZ01',
	@ES_NOMINA NVARCHAR(10) = 'S',
	@CL_PASSWORD NVARCHAR(100),
	@FE_CREACION NVARCHAR(20)
	
	SELECT @CL_PASSWORD = CL_PASSWORD ,
	@FE_CREACION = CAST(DATEPART(YEAR,FE_CREACION) AS NVARCHAR(4)) +'-'+ RIGHT('00'+CAST(DATEPART(MONTH,FE_CREACION) AS NVARCHAR(2)),2) +'-' + RIGHT('00'+CAST(DATEPART(DAY,FE_CREACION) AS NVARCHAR(2)),2) +' '
	+RIGHT('00'+CAST(DATEPART(HOUR,FE_CREACION) AS NVARCHAR(2)),2) +':' +RIGHT('00'+CAST(DATEPART(MINUTE,FE_CREACION) AS NVARCHAR(2)),2)+':'+RIGHT('00'+CAST(DATEPART(SECOND,FE_CREACION) AS NVARCHAR(2)),2)
	FROM ADM.C_CLIENTE 
	WHERE CL_CLIENTE = @CL_CLIENTE


	IF @ES_NOMINA = 'S' BEGIN
		PRINT 'INSERT INTO Nomina.S_CONFIGURACION
		values('''+@CL_CLIENTE+''',''CL_PASS_WS'',''Web Services facturacion'','''+@CL_PASSWORD+''',''Web Services facturacion'');';

		PRINT 'INSERT INTO Nomina.S_CONFIGURACION
		values('''+@CL_CLIENTE+''',''OBJ_ADICIONAL'',''Objetos adicionales'','''',''Objetos adicionales'');';

		PRINT 'INSERT INTO Nomina.S_CONFIGURACION
		values('''+@CL_CLIENTE+''',''FE_CREACION'','''','''+@FE_CREACION+''','''');'
		
		PRINT 'INSERT INTO Nomina.S_CONFIGURACION
		values('''+@CL_CLIENTE+''',''CL_RAZON_SOCIAL'','''','''+@CL_EMPRESA+''','''');'
	END
	ELSE BEGIN
		PRINT 'INSERT INTO [ADM].[S_CONFIGURACION] ([CL_CONFIGURACION],[NO_CONFIGURACION],[XML_CONFIGURACION],[FE_MODIFICACION],[CL_USUARIO_MODIFICA],[NB_PROGRAMA_MODIFICA])
				VALUES(''CL_PASS_WS'','''+@CL_PASSWORD+''',''<ROOT />'',GETDATE(),''SCRIPT'',''SCRIPT'');';
		PRINT 'INSERT INTO [ADM].[S_CONFIGURACION] ([CL_CONFIGURACION],[NO_CONFIGURACION],[XML_CONFIGURACION],[FE_MODIFICACION],[CL_USUARIO_MODIFICA],[NB_PROGRAMA_MODIFICA])
				VALUES(''OBJ_ADICIONAL'','''',''<ROOT />'',GETDATE(),''SCRIPT'',''SCRIPT'');';
		PRINT 'INSERT INTO [ADM].[S_CONFIGURACION] ([CL_CONFIGURACION],[NO_CONFIGURACION],[XML_CONFIGURACION],[FE_MODIFICACION],[CL_USUARIO_MODIFICA],[NB_PROGRAMA_MODIFICA])
				VALUES(''FE_CREACION'','''+@FE_CREACION+''',''<ROOT />'',GETDATE(),''SCRIPT'',''SCRIPT'');';
	END;

END;